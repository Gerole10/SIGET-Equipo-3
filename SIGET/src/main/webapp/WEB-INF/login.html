<!DOCTYPE html>
<html>
<head>
<meta charset="ISO-8859-1">
<script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.6.9/angular.min.js"></script>
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"></script>
<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css">
<link rel="stylesheet" type="text/css"
href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.css">

<style>
    input[type=text] {
        box-sizing:border-box;
        padding:8px;
    }
    input[type=password] {
        box-sizing:border-box;
        padding:8px;
    }
    input[type=email] {
        box-sizing:border-box;
        padding:8px;
    }
    input[type=text]:focus{
        box-shadow: 0 0 8px 0 dodgerBlue;
    }
    input[type=password]:focus{
        box-shadow: 0 0 8px 0 dodgerBlue;
    }
    input[type=email]:focus{
        box-shadow: 0 0 8px 0 dodgerBlue;
    }
    
</style>
</head>
<body>
<body style="background-color:#86D5E0;">
 
<div class="body"></div>
    <body style="background-color:#DAF2F5">
    <div class="jumbotron text-center" style="background-color:#FFFFFF">
    </div>
    <div class="grad"></div>
        <div class="header">
        <div style="color:#FFFFFF;font-family: cursive, 'Comic Sans MS', sans-serif;"align = center><H1>Bienvenid@ a SIGET </H1></span></div>
        <span style="color:#EAF6F4; font-style: italic;"align = center><H2> Su agenda virtual </H2></span>
    </div>
    <br>
        
<div class="jumbotron text-center"style="background-color:#FFFFFF;"> 
    <div class="row" id="divMenu">
        <div class="col-sm-3"></div>
        <div class="col-sm-3" id="mostrarLogin">
            <a> <H2>Log In</H2></a>
        </div>
        <div class="col-sm-3" id="mostrarRegistro">
            <a><H2>Sign Up</H2></a>
        </div>
        <div class="col-sm-3"></div>
        </div>
    <div class="container" id="divFormularios">
        <div class="row">
            <div class="col-sm-12 col-centered">
                <!-- hidden para que salga por defecto login -->
                 <div id="divLogin" style="display:hidden"> 
                    <i class="fa fa-id-card-o"></i>
                    <input type="text" id="loginUserNif" placeholder="nif"><br>
                    <i class="fa fa-key icon"></i>
                    <input type="password" id="loginUserPassword" placeholder="password"><br>
                    <button onclick="LogIn()" id="btnLogin">LogIn</button><br>
                </div> 
                <div id="divRegistro" style="display:none">
                    <i class="fa fa-user fa-lg fa-fw" aria-hidden="true"></i>
                    <input type="text" placeholder="user full name" id="SignUpName"><br>
                    <i class="fa fa-id-card-o"></i>
                    <input type="text" placeholder="nif" id="SignUpNif"><br>
                    <i class="fa fa-envelope icon"></i>
                    <input type="email" placeholder="email" id="SignUpEmail"><br>
                    <i class="fa fa-key icon"></i>
                    <input type="password" placeholder="password" id="pwd1"><br>
                    <i class="fa fa-key icon"></i>
                    <input type="password" placeholder="repeat the password" id="pwd2"><br>
                    <button onclick="SignUp()" id="registroBtn">SignUp</button><br>
                </div>
            </div>
        </div>
</div>


<script>
$(document).ready(function() {
    $("#mostrarLogin").click(function() {
        $("#divLogin").show();
        $("#divRegistro").hide()
    }),
    $("#mostrarRegistro").click(function() {
        $("#divLogin").hide();
        $("#divRegistro").show()
    })
});

function SignUp() {
    var info = {
        type : "Register",
        userName : $("#SignUpName").val(),
        nif : $("#SignUpNif").val(),
        email : $("#SignUpEmail").val(),
        pwd1 : $("#pwd1").val(),
        pwd2 : $("#pwd2").val()
    };
    var data = {
            data : JSON.stringify(info),
            url : "register",
            type : "post",
            contentType: 'application/json',
            success : function() {
                alert("Registro realizado");
            },
            error : function(response) {
                alert("Error en el registro del usuario");
            }
        };
        $.ajax(data);
}

function LogIn() {
    var info = {
        type : "Login",
        nif : $("#loginUserNif").val(),
        pwd : $("#loginUserPassword").val()
    };
    
    var data = {
        data : JSON.stringify(info),
        url : "login",
        type : "post",
        contentType: 'application/json',
        success : function() {
            <!-- ninguna por ahora-->
        },
        error : function(response) {
            alert("Error en la autenticación del usuario");
        }
    };
    $.ajax(data);
}



function requestToken() {
    alert("En requestToken");
}

</script>
</body>
</html>